#!/bin/bash

tmux start-server
tmux -u new -d -s web
tmux neww -t web
tmux neww -t web
tmux neww -t web
tmux neww -t web

tmux rename-window -t web:1 vim
tmux rename-window -t web:2 shell
tmux rename-window -t web:3 server
tmux rename-window -t web:4 jasmine
tmux rename-window -t web:5 guard

tmux send-keys -t web:1 "rvm gemset use webdev; cd $(pwd)" C-m
tmux send-keys -t web:1 "vim" C-m

tmux send-keys -t web:2 "rvm gemset use webdev; cd $(pwd)" C-m

tmux send-keys -t web:3 "rvm gemset use webdev; cd $(pwd)" C-m

tmux send-keys -t web:4 "rvm gemset use webdev; cd $(pwd)" C-m
tmux send-keys -t web:4 "rake jasmine" C-m

tmux send-keys -t web:5 "rvm gemset use webdev; cd $(pwd)" C-m
tmux send-keys -t web:5 "guard" C-m

tmux select-window -t web:1
tmux attach-session -t web
